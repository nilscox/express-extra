GET /api/author 200
[]

GET /api/book 200
[]

POST /api/author 201
{
  "firstname": "Gorges",
  "lastname": "Martin",
  "middlename": "R.R."
}
{
  "id": 1,
  "name": "Gorges MARTIN"
}

GET /api/author 200
[
  {
    "id": 1,
    "name": "Gorges MARTIN",
    "books": []
  }
]

GET /api/author/1 200
{
  "id": 1,
  "name": "Gorges MARTIN",
  "books": []
}

POST /api/book 201
{
  "title": "Game of thrones",
  "EAN": "1234567890123",
  "nbPages": 645,
  "authorId": 1
}
{
  "id": 1,
  "title": "Game of thrones",
  "nbPages": 645,
  "author": {
    "id": 1,
    "name": "Gorges MARTIN"
  }
}

POST /api/book 400
{
  "title": null,
  "nbPages": -8,
  "author": {
    "firstname": true,
    "lastname": "   "
  }
}
{
  "title": "Invalid value type",
  "nbPages": "this field must be positive",
  "EAN": "Missing value",
  "author.firstname": "Invalid value type",
  "author.lastname": "this field must not be empty"
}

POST /api/book 201
{
  "title": "The hichicker's guide to the galaxy",
  "EAN": "1230123456789",
  "nbPages": 137,
  "author": {
    "firstname": "Douglas",
    "lastname": "Adams"
  }
}
{
  "id": 2,
  "title": "The hichicker's guide to the galaxy",
  "nbPages": 137,
  "author": {
    "id": 2,
    "name": "Douglas ADAMS"
  }
}

POST /api/book 201
{
  "title": "Dirk Genlty's holistic detective agency",
  "EAN": "1231234567890",
  "nbPages": 239,
  "authorId": 2
}
{
  "id": 3,
  "title": "Dirk Genlty's holistic detective agency",
  "nbPages": 239,
  "author": {
    "id": 2,
    "name": "Douglas ADAMS"
  }
}

GET /api/book 200
[
  {
    "id": 1,
    "title": "Game of thrones",
    "nbPages": 645,
    "author": {
      "id": 1,
      "name": "Gorges MARTIN"
    }
  },
  {
    "id": 2,
    "title": "The hichicker's guide to the galaxy",
    "nbPages": 137,
    "author": {
      "id": 2,
      "name": "Douglas ADAMS"
    }
  },
  {
    "id": 3,
    "title": "Dirk Genlty's holistic detective agency",
    "nbPages": 239,
    "author": {
      "id": 2,
      "name": "Douglas ADAMS"
    }
  }
]

GET /api/book/1 200
{
  "id": 1,
  "title": "Game of thrones",
  "nbPages": 645,
  "author": {
    "id": 1,
    "name": "Gorges MARTIN"
  }
}

GET /api/author/2 200
{
  "id": 2,
  "name": "Douglas ADAMS",
  "books": [
    {
      "id": 2,
      "title": "The hichicker's guide to the galaxy",
      "nbPages": 137
    },
    {
      "id": 3,
      "title": "Dirk Genlty's holistic detective agency",
      "nbPages": 239
    }
  ]
}

POST /api/book/1/rent 200
Have fun reading Game of thrones!

POST /api/book/1/rent 400
{
  "error": "you already have this book"
}

POST /api/book/2/rent 200
Have fun reading The hichicker's guide to the galaxy!

POST /api/book/3/rent 401
{
  "error": "quota exceeded"
}

POST /api/book/2/return 200
Thank you for returning The hichicker's guide to the galaxy.

POST /api/book/3/rent 200
Have fun reading Dirk Genlty's holistic detective agency!

POST /api/book/2/rent 401
{
  "error": "quota exceeded"
}

POST /api/book/2/rent 200
Have fun reading The hichicker's guide to the galaxy!

